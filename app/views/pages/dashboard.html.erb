<div class="dashboard-container">
  <div class="form-container-dashboard">
    <div class="form-inputs-dashboard">
      <p class="form-header">Bienvenue sur ton tableau de bord !</p>
      <div class="separator-dashboard"></div>

      <!-- Onglets -->
      <div class="tabs-dashboard">
        <button class="tab-link-dashboard active" onclick="showTab('profile')">Profil</button>
        <button class="tab-link-dashboard" onclick="showTab('foodtruck')">Foodtruck</button>
      </div>

      <!-- Contenu des onglets -->
      <div id="profile" class="tab-content-dashboard">
        <h3>Bienvenue dans votre profil, <%= "#{current_user.first_name} #{current_user.last_name}" %> !</h3>

        <div>
          <p><strong>Prénom :</strong> <%= current_user.first_name %></p>
          <p><strong>Nom :</strong> <%= current_user.last_name %></p>
          <p><strong>Email :</strong> <%= current_user.email %></p>
          <p><strong>Adresse par défaut :</strong> <%= current_user.address_default || "Non spécifiée" %></p>

          <% if current_user.company_name.present? %>
            <p><strong>Nom de la société :</strong> <%= current_user.company_name %></p>
          <% end %>
        </div>

        <div>
          <%= link_to "Modifier mon profil", edit_user_registration_path, class: "btn-dashboard" %>
        </div>
        <div>
          <%= link_to "Sign out", destroy_user_session_path, method: :delete, data: { turbo_confirm: "Are you sure you want to sign out?" }, class: "btn-dashboard" %>
        </div>
      </div>


<script>
  function showTab(tabName) {
    // Masquer tous les onglets
    const allTabs = document.querySelectorAll('.tab-content-dashboard');
    allTabs.forEach(tab => {
      tab.style.display = 'none';
    });

    // Supprimer l'état actif des onglets
    const tabLinks = document.querySelectorAll('.tab-link-dashboard');
    tabLinks.forEach(link => {
      link.classList.remove('active');
    });

    // Afficher l'onglet sélectionné
    document.getElementById(tabName).style.display = 'block';

    // Activer le bouton correspondant
    document.querySelector(`button[onclick="showTab('${tabName}')"]`).classList.add('active');
  }

  // Afficher l'onglet par défaut au chargement
  document.addEventListener('DOMContentLoaded', () => {
    showTab('profile');
  });
</script>
